import{b as A,r as $,d as n,o as z,j,w as t,A as N,g as e,i as l,l as V,E as C,bz as R,e as S,f as Z,k as P,bs as F,bA as G}from"./index.a6e8dc21.js";import{a as I}from"./index.becf6c0c.js";const M=N("span",{class:"text-gray-500"},"-",-1),Q={class:"dialog-footer"},q=V("\u8FD4\u56DE"),K=V("\u786E\u5B9A"),W={emits:["getTableList"],setup(d,{expose:c,emit:b}){const r=A(!1),m=A("\u7F16\u8F91"),a=$({name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),k=()=>{b("getTableList")};return c({showEdit:h=>{console.log(h),r.value=!0}}),(h,o)=>{const p=n("el-input"),i=n("el-form-item"),_=n("el-option"),g=n("el-select"),w=n("el-date-picker"),v=n("el-col"),y=n("el-time-picker"),U=n("el-switch"),u=n("el-checkbox"),L=n("el-checkbox-group"),x=n("el-radio"),T=n("el-radio-group"),f=n("el-form"),E=n("el-button"),O=n("el-dialog");return z(),j(O,{modelValue:r.value,"onUpdate:modelValue":o[10]||(o[10]=s=>r.value=s),title:m.value,width:"50%",onClose:k},{footer:t(()=>[N("span",Q,[e(E,{onClick:o[8]||(o[8]=s=>r.value=!1)},{default:t(()=>[q]),_:1}),e(E,{type:"primary",onClick:o[9]||(o[9]=s=>r.value=!1)},{default:t(()=>[K]),_:1})])]),default:t(()=>[e(f,{model:l(a),"label-width":"120px"},{default:t(()=>[e(i,{label:"Activity name"},{default:t(()=>[e(p,{modelValue:l(a).name,"onUpdate:modelValue":o[0]||(o[0]=s=>l(a).name=s)},null,8,["modelValue"])]),_:1}),e(i,{label:"Activity zone"},{default:t(()=>[e(g,{modelValue:l(a).region,"onUpdate:modelValue":o[1]||(o[1]=s=>l(a).region=s),placeholder:"please select your zone"},{default:t(()=>[e(_,{label:"Zone one",value:"shanghai"}),e(_,{label:"Zone two",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Activity time"},{default:t(()=>[e(v,{span:11},{default:t(()=>[e(w,{modelValue:l(a).date1,"onUpdate:modelValue":o[2]||(o[2]=s=>l(a).date1=s),type:"date",placeholder:"Pick a date",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(v,{span:2,class:"text-center"},{default:t(()=>[M]),_:1}),e(v,{span:11},{default:t(()=>[e(y,{modelValue:l(a).date2,"onUpdate:modelValue":o[3]||(o[3]=s=>l(a).date2=s),placeholder:"Pick a time",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{label:"Instant delivery"},{default:t(()=>[e(U,{modelValue:l(a).delivery,"onUpdate:modelValue":o[4]||(o[4]=s=>l(a).delivery=s)},null,8,["modelValue"])]),_:1}),e(i,{label:"Activity type"},{default:t(()=>[e(L,{modelValue:l(a).type,"onUpdate:modelValue":o[5]||(o[5]=s=>l(a).type=s)},{default:t(()=>[e(u,{label:"Online activities",name:"type"}),e(u,{label:"Promotion activities",name:"type"}),e(u,{label:"Offline activities",name:"type"}),e(u,{label:"Simple brand exposure",name:"type"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Resources"},{default:t(()=>[e(T,{modelValue:l(a).resource,"onUpdate:modelValue":o[6]||(o[6]=s=>l(a).resource=s)},{default:t(()=>[e(x,{label:"Sponsor"}),e(x,{label:"Venue"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Activity form"},{default:t(()=>[e(p,{modelValue:l(a).desc,"onUpdate:modelValue":o[7]||(o[7]=s=>l(a).desc=s),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}},B=I.create({baseURL:"/api",timeout:5e3});B.interceptors.request.use(d=>(d.headers.token="token",d),d=>{console.log(d)});B.interceptors.response.use(d=>{const{code:c,data:b,msg:r}=d.data;return c!==200?(C.error(r||"\u8BF7\u6C42\u5931\u8D25"),Promise.reject(new Error(r))):b},d=>(C.error(d.message||"\u8BF7\u6C42\u5931\u8D25"),Promise.reject(d)));const H=d=>B({url:"/demoList",method:"get",params:d}),J={class:"app-container"},X=V("Query"),Y=V("edit"),ee=V("delete"),te={name:"Demo1"},ne=Object.assign(te,{setup(d){const c=R(),b=A(null),r=A(),m=$({user:"",region:""}),a=$([]),k=async()=>{const{page:p,pre_size:i}=r.value.pageQuery;c.value=!0;const _=await H({page:p.value,pre_size:i.value});setTimeout(()=>{a.splice(0),r.value.changeTotal(_.total),a.push(..._.list),c.value=!1},500)},D=()=>{console.log("submit!")},h=p=>{b.value.showEdit(p)},o=()=>{G.confirm("proxy will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{C({type:"success",message:"Delete completed"})}).catch(()=>{C({type:"info",message:"Delete canceled"})})};return(p,i)=>{const _=n("el-input"),g=n("el-form-item"),w=n("el-option"),v=n("el-select"),y=n("el-button"),U=n("el-form"),u=n("el-table-column"),L=n("el-table"),x=n("fs-pagination"),T=S("loading");return z(),Z("div",J,[e(U,{inline:!0,model:l(m),class:"demo-form-inline"},{default:t(()=>[e(g,{label:"Approved by"},{default:t(()=>[e(_,{modelValue:l(m).user,"onUpdate:modelValue":i[0]||(i[0]=f=>l(m).user=f),placeholder:"Approved by"},null,8,["modelValue"])]),_:1}),e(g,{label:"Activity zone"},{default:t(()=>[e(v,{modelValue:l(m).region,"onUpdate:modelValue":i[1]||(i[1]=f=>l(m).region=f),placeholder:"Activity zone"},{default:t(()=>[e(w,{label:"Zone one",value:"shanghai"}),e(w,{label:"Zone two",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(g,null,{default:t(()=>[e(y,{type:"primary",onClick:D},{default:t(()=>[X]),_:1})]),_:1})]),_:1},8,["model"]),P((z(),j(L,{data:l(a),border:"",style:{width:"100%"}},{default:t(()=>[e(u,{prop:"date",label:"Date",width:"180"}),e(u,{prop:"name",label:"Name",width:"180"}),e(u,{prop:"address",label:"Address"}),e(u,{label:"operate"},{default:t(({row:f})=>[e(y,{type:"primary",onClick:E=>h(f)},{default:t(()=>[Y]),_:2},1032,["onClick"]),e(y,{type:"danger",onClick:o},{default:t(()=>[ee]),_:1})]),_:1})]),_:1},8,["data"])),[[T,l(c)]]),P(e(x,{ref_key:"FsPageRef",ref:r,onGetTableList:k},null,512),[[F,l(a).length]]),e(W,{ref_key:"edit",ref:b,onGetTableList:k},null,512)])}}});export{ne as default};
