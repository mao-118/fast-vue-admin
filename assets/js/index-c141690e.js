import{_ as e,r as s,b as a,E as r,c as l,d as o,e as d,f as t,w as i,g as u,u as c,a as m,o as n,p,i as f,j,m as b,k as g}from"./index-b2c55ba7.js";import{E as v,a as k}from"./el-form-item-05122efa.js";import{v as w,L as _}from"./el-loading-599d441e.js";import"./castArray-fdcec759.js";const h={install(e){e.directive("loading",w),e.config.globalProperties.$loading=_},directive:w,service:_};const y={class:"form-content"},V={class:"form-wrap"},q=(e=>(p("data-v-3fda576a"),e=e(),f(),e))((()=>d("h1",{class:"mb-6 pt-12"},"后台管理系统",-1))),x=j(" 登录 ");var E=e({setup(e){const p=s({username:"",password:""}),f=c(),j=m(),w=s({username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]}),_=a(),E=()=>{_.value.validate(((e,s)=>{if(e){const e=h.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((()=>{b.setToken("hejsljlsjfisjdfijsjsjfjdjjasjfksjjsdjfsjisjjdjf");const s=f.query;let a="",r={};s&&(a=s.redirect,r=L(s)),j.replace({path:a||"/",query:r}).then((()=>{g.success("登录成功")})),e.close()}),500)}else console.log("error submit!",s)}))},L=e=>Object.keys(e).reduce(((s,a)=>("redirect"!==a&&(s[a]=e[a]),s)),{});return(e,s)=>{const a=r,c=v,m=l,f=k;return n(),o("div",y,[d("div",V,[t(f,{"label-width":"90px",ref_key:"formEl",ref:_,model:u(p),rules:u(w)},{default:i((()=>[q,t(c,{label:"用户名",prop:"username"},{default:i((()=>[t(a,{modelValue:u(p).username,"onUpdate:modelValue":s[0]||(s[0]=e=>u(p).username=e),placeholder:"用户名随便输"},null,8,["modelValue"])])),_:1}),t(c,{label:"密码",prop:"password"},{default:i((()=>[t(a,{modelValue:u(p).password,"onUpdate:modelValue":s[1]||(s[1]=e=>u(p).password=e),placeholder:"密码随便输"},null,8,["modelValue"])])),_:1}),t(m,{class:"submit-btn",type:"primary",onClick:E},{default:i((()=>[x])),_:1})])),_:1},8,["model","rules"])])])}}},[["__scopeId","data-v-3fda576a"]]);export{E as default};
