import{_ as e,r as a,b as s,E as r,c as l,d as o,e as t,f as d,w as i,g as u,u as c,a as m,o as n,p,i as f,j,m as g,k as b}from"./index-11542374.js";import{E as v,a as k}from"./el-form-item-16a585a2.js";import{v as w,L as _}from"./el-loading-cac4798f.js";import"./castArray-02610eac.js";const h={install(e){e.directive("loading",w),e.config.globalProperties.$loading=_},directive:w,service:_};const y={class:"form-content"},V={class:"form-wrap"},q=(e=>(p("data-v-3fda576a"),e=e(),f(),e))((()=>t("h1",{class:"mb-6 pt-12"},"后台管理系统",-1))),x=j(" 登录 ");var E=e({setup(e){const p=a({username:"",password:""}),f=c(),j=m(),w=a({username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]}),_=s(),E=()=>{_.value.validate(((e,a)=>{if(e){const e=h.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((()=>{g.setToken("hejsljlsjfisjdfijsjsjfjdjjasjfksjjsdjfsjisjjdjf");const a=f.query;let s="",r={};a&&(s=a.redirect,r=L(a)),j.replace({path:s||"/",query:r}).then((()=>{b.success("登录成功")})),e.close()}),500)}else console.log("error submit!",a)}))},L=e=>Object.keys(e).reduce(((a,s)=>("redirect"!==s&&(a[s]=e[s]),a)),{});return(e,a)=>{const s=r,c=v,m=l,f=k;return n(),o("div",y,[t("div",V,[d(f,{"label-width":"90px",ref_key:"formEl",ref:_,model:u(p),rules:u(w)},{default:i((()=>[q,d(c,{label:"用户名",prop:"username"},{default:i((()=>[d(s,{modelValue:u(p).username,"onUpdate:modelValue":a[0]||(a[0]=e=>u(p).username=e),placeholder:"用户名随便输"},null,8,["modelValue"])])),_:1}),d(c,{label:"密码",prop:"password"},{default:i((()=>[d(s,{modelValue:u(p).password,"onUpdate:modelValue":a[1]||(a[1]=e=>u(p).password=e),placeholder:"密码随便输"},null,8,["modelValue"])])),_:1}),d(m,{class:"submit-btn",type:"primary",onClick:E},{default:i((()=>[x])),_:1})])),_:1},8,["model","rules"])])])}}},[["__scopeId","data-v-3fda576a"]]);export{E as default};
