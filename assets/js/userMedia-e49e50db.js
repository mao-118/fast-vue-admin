import{_ as e,b as a,cK as l,cL as s,cM as t,a5 as d,c as v,e as c,f as n,g as u,w as i,i as r,F as o,aU as p,p as f,j as I,o as m,q as x,t as y,aa as g}from"./index-b5c3c419.js";const b={class:"flex flex-col gap-4 text-center p-6"},k=["onClick"],_=(e=>(f("data-v-02f861ff"),e=e(),I(),e))((()=>n("canvas",{id:"canvas"},null,-1)));var C=e({setup(e){const f=a(),{videoInputs:I}=l({requestPermissions:!0,onUpdated(){var e;I.value.find((e=>e.deviceId===f.value))||(f.value=null==(e=I.value[0])?void 0:e.deviceId)}}),C=a(),{stream:j,enabled:q}=s({videoDeviceId:f});t((()=>{C.value&&(C.value.srcObject=j.value)}));let w=null;return d(q,(e=>{e?w=setInterval((()=>{document.getElementById("canvas").getContext("2d").drawImage(C.value,0,0,270,135)}),20):clearInterval(w)})),(e,a)=>{const l=v;return m(),c("div",b,[n("div",null,[u(l,{onClick:a[0]||(a[0]=e=>q.value=!r(q)),type:r(q)?"primary":"success"},{default:i((()=>[x(y(r(q)?"Stop":"Start"),1)])),_:1},8,["type"])]),n("div",null,[(m(!0),c(o,null,p(r(I),(e=>(m(),c("div",{key:e.deviceId,class:g(["px-2 py-1 cursor-pointer",{"text-green-500":f.value===e.deviceId}]),onClick:a=>f.value=e.deviceId},y(e.label),11,k)))),128))]),n("div",null,[n("video",{ref_key:"video",ref:C,muted:"",autoplay:"",controls:""},null,512)]),_])}}},[["__scopeId","data-v-02f861ff"]]);export{C as default};
