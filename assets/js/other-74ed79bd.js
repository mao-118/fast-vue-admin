var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,l,n)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,d=(e,t)=>{for(var l in t||(t={}))a.call(t,l)&&s(e,l,t[l]);if(n)for(var l of n(t))o.call(t,l)&&s(e,l,t[l]);return e},r=(e,n)=>t(e,l(n));import{cl as i,cm as c,cn as u,co as h,Q as p,cb as f,cp as v,cq as g,a2 as m,a4 as y,b,aK as k,a1 as C,i as x,ak as N,ag as S,bp as w,ai as E,as as K,h as I,$ as O,aA as V,bJ as D,ab as M,o as T,e as L,t as B,aa as z,ar as A,f as R,bT as $,aV as _,bx as H,a9 as F,b4 as j,ad as W,bH as q,w as P,m as U,cg as Q,aW as G,Z as Y,cr as J,ac as X,bl as Z,c2 as ee,r as te,bZ as le,cs as ne,a3 as ae,a_ as oe,a5 as se,av as de,bU as re,ct as ie,cu as ce,cv as ue,aJ as he,cw as pe,cx as fe,b6 as ve,aE as ge,c7 as me,bb as ye,a6 as be,a7 as ke,bm as Ce,aS as xe,aO as Ne,g as Se,at as we,aq as Ee,F as Ke,aU as Ie,aP as Oe,cy as Ve,cz as De,bo as Me,bs as Te,cA as Le,d as Be,b0 as ze,cB as Ae,cd as Re,bA as $e,ah as _e,bB as He,aI as Fe,bN as je,bM as We,W as qe,X as Pe,ay as Ue,cC as Qe,aw as Ge}from"./index-274711a6.js";import{E as Ye}from"./el-row-a0397621.js";import{E as Je}from"./el-col-2cba28fd.js";import{c as Xe,i as Ze,r as et,H as tt,V as lt,l as nt,I as at,S as ot,u as st,o as dt,g as rt,R as it,a as ct,f as ut,B as ht,F as pt,A as ft,h as vt,d as gt,k as mt,C as yt,E as bt,j as kt,D as Ct,n as xt}from"./el-alert-998b3754.js";import{b as Nt,s as St,o as wt}from"./_baseFlatten-fd492d6e.js";function Et(e){return(null==e?0:e.length)?Nt(e,1):[]}function Kt(e,t){return null!=e&&t in Object(e)}function It(e,t){return null!=e&&function(e,t,l){for(var n=-1,a=(t=i(t,e)).length,o=!1;++n<a;){var s=c(t[n]);if(!(o=null!=e&&l(e,s)))break;e=e[s]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&u(a)&&h(s,a)&&(p(e)||f(e))}(e,t,Kt)}function Ot(e,t){return function(e,t,l){for(var n=-1,a=t.length,o={};++n<a;){var s=t[n],d=v(e,s);l(d,s)&&g(o,i(s,e),d)}return o}(e,t,(function(t,l){return It(e,l)}))}var Vt,Dt=St(wt(Vt=function(e,t){return null==e?{}:Ot(e,t)},void 0,Et),Vt+"");const Mt={[tt]:"deltaX",[lt]:"deltaY"},Tt=({name:e,getOffset:t,getItemSize:l,getItemOffset:n,getEstimatedTotalSize:a,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:i,clearCache:c,validateProps:u})=>m({name:null!=e?e:"ElVirtualList",props:nt,emits:[at,ot],setup(e,{emit:h,expose:p}){u(e);const f=V(),v=y("vl"),g=b(i(e,f)),m=st(),K=b(),I=b(),O=b(),M=b({isScrolling:!1,scrollDir:"forward",scrollOffset:k(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:e.scrollbarAlwaysOn}),T=C((()=>{const{total:t,cache:l}=e,{isScrolling:n,scrollDir:a,scrollOffset:d}=x(M);if(0===t)return[0,0,0,0];const r=o(e,d,x(g)),i=s(e,r,d,x(g)),c=n&&a!==ht?1:Math.max(1,l),u=n&&a!==pt?1:Math.max(1,l);return[Math.max(0,r-c),Math.max(0,Math.min(t-1,i+u)),r,i]})),L=C((()=>a(e,x(g)))),B=C((()=>dt(e.layout))),z=C((()=>[{position:"relative",["overflow-"+(B.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:e.direction,height:k(e.height)?`${e.height}px`:e.height,width:k(e.width)?`${e.width}px`:e.width},e.style])),A=C((()=>{const e=x(L),t=x(B);return{height:t?"100%":`${e}px`,pointerEvents:x(M).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),R=C((()=>B.value?e.width:e.height)),{onWheel:$}=(({atEndEdge:e,atStartEdge:t,layout:l},n)=>{let a,o=0;const s=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:s,onWheel:e=>{Xe(a);const t=e[Mt[l.value]];s(o)&&s(o+t)||(o+=t,Ze()||e.preventDefault(),a=et((()=>{n(o),o=0})))}}})({atStartEdge:C((()=>M.value.scrollOffset<=0)),atEndEdge:C((()=>M.value.scrollOffset>=L.value)),layout:C((()=>e.layout))},(e=>{var t,l;null==(l=(t=O.value).onMouseUp)||l.call(t),H(Math.min(M.value.scrollOffset+e,L.value-R.value))})),_=()=>{const{total:t}=e;if(t>0){const[e,t,l,n]=x(T);h(at,e,t,l,n)}const{scrollDir:l,scrollOffset:n,updateRequested:a}=x(M);h(ot,l,n,a)},H=e=>{(e=Math.max(e,0))!==x(M).scrollOffset&&(M.value=r(d({},x(M)),{scrollOffset:e,scrollDir:rt(x(M).scrollOffset,e),updateRequested:!0}),N(j))},F=(l,n=ft)=>{const{scrollOffset:a}=x(M);l=Math.max(0,Math.min(l,e.total-1)),H(t(e,l,n,a,x(g)))},j=()=>{M.value.isScrolling=!1,N((()=>{m.value(-1,null,null)}))},W=()=>{const e=K.value;e&&(e.scrollTop=0)};S((()=>{if(!w)return;const{initScrollOffset:t}=e,l=x(K);k(t)&&l&&(x(B)?l.scrollLeft=t:l.scrollTop=t),_()})),E((()=>{const{direction:t,layout:l}=e,{scrollOffset:n,updateRequested:a}=x(M),o=x(K);if(a&&o)if(l===tt)if(t===it)switch(ct()){case"negative":o.scrollLeft=-n;break;case"positive-ascending":o.scrollLeft=n;break;default:{const{clientWidth:e,scrollWidth:t}=o;o.scrollLeft=t-e-n;break}}else o.scrollLeft=n;else o.scrollTop=n}));const q={ns:v,clientSize:R,estimatedTotalSize:L,windowStyle:z,windowRef:K,innerRef:I,innerStyle:A,itemsToRender:T,scrollbarRef:O,states:M,getItemStyle:t=>{const{direction:a,itemSize:o,layout:s}=e,d=m.value(c&&o,c&&s,c&&a);let r;if(D(d,String(t)))r=d[t];else{const o=n(e,t,x(g)),s=l(e,t,x(g)),i=x(B),c=a===it,u=i?o:0;d[t]=r={position:"absolute",left:c?void 0:`${u}px`,right:c?`${u}px`:void 0,top:i?0:`${o}px`,height:i?"100%":`${s}px`,width:i?`${s}px`:"100%"}}return r},onScroll:t=>{x(B)?(t=>{const{clientWidth:l,scrollLeft:n,scrollWidth:a}=t.currentTarget,o=x(M);if(o.scrollOffset===n)return;const{direction:s}=e;let i=n;if(s===it)switch(ct()){case gt:i=-n;break;case vt:i=a-l-n}i=Math.max(0,Math.min(i,a-l)),M.value=r(d({},o),{isScrolling:!0,scrollDir:rt(o.scrollOffset,i),scrollOffset:i,updateRequested:!1}),N(j)})(t):(e=>{const{clientHeight:t,scrollHeight:l,scrollTop:n}=e.currentTarget,a=x(M);if(a.scrollOffset===n)return;const o=Math.max(0,Math.min(n,l-t));M.value=r(d({},a),{isScrolling:!0,scrollDir:rt(a.scrollOffset,o),scrollOffset:o,updateRequested:!1}),N(j)})(t),_()},onScrollbarScroll:(e,t)=>{const l=(L.value-R.value)/t*e;H(Math.min(L.value-R.value,l))},onWheel:$,scrollTo:H,scrollToItem:F,resetScrollTop:W};return p({windowRef:K,innerRef:I,getItemStyleCache:m,scrollTo:H,scrollToItem:F,resetScrollTop:W,states:M}),q},render(e){var t;const{$slots:l,className:n,clientSize:a,containerElement:o,data:s,getItemStyle:d,innerElement:r,itemsToRender:i,innerStyle:c,layout:u,total:h,onScroll:p,onScrollbarScroll:f,onWheel:v,states:g,useIsScrolling:m,windowStyle:y,ns:b}=e,[k,C]=i,x=K(o),N=K(r),S=[];if(h>0)for(let K=k;K<=C;K++)S.push(null==(t=l.default)?void 0:t.call(l,{data:s,key:K,index:K,isScrolling:m?g.isScrolling:void 0,style:d(K)}));const w=[I(N,{style:c,ref:"innerRef"},O(N)?S:{default:()=>S})],E=I(ut,{ref:"scrollbarRef",clientSize:a,layout:u,onScroll:f,ratio:100*a/this.estimatedTotalSize,scrollFrom:g.scrollOffset/(this.estimatedTotalSize-a),total:h}),V=I(x,{class:["el-vl__window",n],style:y,onScroll:p,onWheel:v,ref:"windowRef",key:0},O(x)?[w]:{default:()=>[w]});return I("div",{key:0,class:[b.e("wrapper"),g.scrollbarAlwaysOn?"always-on":""]},[V,E])}}),Lt=Tt({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:n,width:a},o,s,d)=>{const r=dt(n)?a:e,i=Math.max(0,t*l-r),c=Math.min(i,o*l),u=Math.max(0,(o+1)*l-r);switch(s===mt&&(s=d>=u-r&&d<=c+r?ft:yt),s){case kt:return c;case bt:return u;case yt:{const e=Math.round(u+(c-u)/2);return e<Math.ceil(r/2)?0:e>i+Math.floor(r/2)?i:e}default:return d>=u&&d<=c?d:d<u?u:c}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:n,width:a},o,s)=>{const d=o*l,r=dt(n)?a:e,i=Math.ceil((r+s-d)/l);return Math.max(0,Math.min(t-1,o+i-1))},initCache(){},clearCache:!0,validateProps(){}}),Bt=(e,t,l)=>{const{itemSize:n}=e,{items:a,lastVisitedIndex:o}=l;if(t>o){let e=0;if(o>=0){const t=a[o];e=t.offset+t.size}for(let l=o+1;l<=t;l++){const t=n(l);a[l]={offset:e,size:t},e+=t}l.lastVisitedIndex=t}return a[t]},zt=(e,t,l,n,a)=>{for(;l<=n;){const o=l+Math.floor((n-l)/2),s=Bt(e,o,t).offset;if(s===a)return o;s<a?l=o+1:s>a&&(n=o-1)}return Math.max(0,l-1)},At=(e,t,l,n)=>{const{total:a}=e;let o=1;for(;l<a&&Bt(e,l,t).offset<n;)l+=o,o*=2;return zt(e,t,Math.floor(l/2),Math.min(l,a-1),n)},Rt=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:n})=>{let a=0;if(n>=e&&(n=e-1),n>=0){const e=t[n];a=e.offset+e.size}return a+(e-n-1)*l},$t=Tt({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>Bt(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:Rt,getOffset:(e,t,l,n,a)=>{const{height:o,layout:s,width:d}=e,r=dt(s)?d:o,i=Bt(e,t,a),c=Rt(e,a),u=Math.max(0,Math.min(c-r,i.offset)),h=Math.max(0,i.offset-r+i.size);switch(l===mt&&(l=n>=h-r&&n<=u+r?ft:yt),l){case kt:return u;case bt:return h;case yt:return Math.round(h+(u-h)/2);default:return n>=h&&n<=u?n:n<h?h:u}},getStartIndexForOffset:(e,t,l)=>((e,t,l)=>{const{items:n,lastVisitedIndex:a}=t;return(a>0?n[a].offset:0)>=l?zt(e,t,0,a,l):At(e,t,Math.max(0,a),l)})(e,l,t),getStopIndexForStartIndex:(e,t,l,n)=>{const{height:a,total:o,layout:s,width:d}=e,r=dt(s)?d:a,i=Bt(e,t,n),c=l+r;let u=i.offset+i.size,h=t;for(;h<o-1&&u<c;)h++,u+=Bt(e,h,n).size;return h},initCache({estimatedItemSize:e=Ct},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,n=!0)=>{var a,o;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,e-1),null==(a=t.exposed)||a.getItemStyleCache(-1),n&&(null==(o=t.proxy)||o.$forceUpdate())}};return l},clearCache:!1,validateProps:({itemSize:e})=>{}});var _t=M(m({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:y("select")})}),[["render",function(e,t,l,n,a,o){return e.item.isTitle?(T(),L("div",{key:0,class:z(e.ns.be("group","title")),style:A([e.style,{lineHeight:`${e.height}px`}])},B(e.item.label),7)):(T(),L("div",{key:1,class:z(e.ns.be("group","split")),style:A(e.style)},[R("span",{class:z(e.ns.be("group","split-dash")),style:A({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const Ht={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:$},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:_.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:H},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1}},Ft={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},jt=m({props:Ft,emits:["select","hover"],setup(e,{emit:t}){const l=y("select"),{hoverItem:n,selectOptionClick:a}=function(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t});return{ns:l,hoverItem:n,selectOptionClick:a}}}),Wt=["aria-selected"];var qt=M(jt,[["render",function(e,t,l,n,a,o){return T(),L("li",{"aria-selected":e.selected,style:A(e.style),class:z([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=j(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[F(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[R("span",null,B(e.item.label),1)]))],46,Wt)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const Pt=m({name:"ElSelectDropdown",props:{data:Array,hoveringIndex:Number,width:Number},setup(e){const t=W("ElSelectV2Injection"),l=y("select"),n=b([]),a=b(null),o=C((()=>q(t.props.estimatedOptionHeight))),s=C((()=>o.value?{itemSize:t.props.itemHeight}:{estimatedSize:t.props.estimatedOptionHeight,itemSize:e=>n.value[e]}));return{ns:l,select:t,listProps:s,listRef:a,isSized:o,isItemDisabled:(e,l)=>{const{disabled:n,multiple:a,multipleLimit:o}=t.props;return n||!l&&!!a&&o>0&&e.length>=o},isItemHovering:t=>e.hoveringIndex===t,isItemSelected:(e,l)=>{const{valueKey:n}=t.props;return t.props.multiple?((e=[],l)=>{const{props:{valueKey:n}}=t;return G(l)?e&&e.some((e=>Q(e,n)===Q(l,n))):e.includes(l)})(e,Q(l,n)):((e,l)=>{if(G(l)){const{valueKey:n}=t.props;return Q(e,n)===Q(l,n)}return e===l})(e,Q(l,n))},scrollToItem:e=>{const t=a.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=a.value;e&&e.resetScrollTop()}}},render(e,t){var l;const{$slots:n,data:a,listProps:o,select:s,isSized:i,width:c,ns:u,isItemDisabled:h,isItemHovering:p,isItemSelected:f}=e,v=i?Lt:$t,{props:g,onSelect:m,onHover:y,onKeyboardNavigate:b,onKeyboardSelect:k}=s,{height:C,modelValue:x,multiple:N}=g;if(0===a.length)return I("div",{class:u.b("dropdown"),style:{width:`${c}px`}},null==(l=n.empty)?void 0:l.call(n));const S=P((e=>{const{index:t,data:l}=e,a=l[t];if("Group"===l[t].type)return I(_t,{item:a,style:e.style,height:i?o.itemSize:o.estimatedSize});const s=f(x,a),c=h(x,s);return I(qt,r(d({},e),{selected:s,disabled:a.disabled||c,created:!!a.created,hovering:p(t),item:a,onSelect:m,onHover:y}),{default:P((e=>F(n,"default",e,(()=>[I("span",a.label)]))))})})),w=I(v,d({ref:"listRef",className:u.be("dropdown","list"),data:a,height:C,width:c,total:a.length,scrollbarAlwaysOn:g.scrollbarAlwaysOn,onKeydown:[t[1]||(t[1]=U(j((()=>b("forward")),["stop","prevent"]),["down"])),t[2]||(t[2]=U(j((()=>b("backward")),["stop","prevent"]),["up"])),t[3]||(t[3]=U(j(k,["stop","prevent"]),["enter"])),t[4]||(t[4]=U(j((()=>s.expanded=!1),["stop","prevent"]),["esc"])),t[5]||(t[5]=U((()=>s.expanded=!1),["tab"]))]},o),{default:S});return I("div",{class:[u.b("dropdown"),u.is("multiple",N)]},[w])}});function Ut(e,t){const l=b(0),n=b(null),a=C((()=>e.allowCreate&&e.filterable));return{createNewOption:function(o){if(a.value)if(o&&o.length>0&&!function(l){const n=e=>e.value===l;return e.options&&e.options.some(n)||t.createdOptions.some(n)}(o)){const e={value:o,label:o,created:!0,disabled:!1};t.createdOptions.length>=l.value?t.createdOptions[l.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=l.value;else{const e=n.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(n){if(!a.value||!n||!n.created||n.created&&e.reserveKeyword&&t.inputValue===n.label)return;const o=t.createdOptions.findIndex((e=>e.value===n.value));~o&&(t.createdOptions.splice(o,1),l.value--)},selectNewOption:function(t){a.value&&(e.multiple&&t.created?l.value++:n.value=t)},clearAllNewOption:function(){a.value&&(t.createdOptions.length=0,l.value=0)}}}const Qt={larget:51,default:42,small:33},Gt=(e,t)=>{const{t:l}=Z(),n=y("select-v2"),a=y("input"),{form:o,formItem:s}=ee(),i=te({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:"",query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),c=b(-1),u=b(-1),h=b(null),p=b(null),f=b(null),v=b(null),g=b(null),m=b(null),k=b(null),x=b(!1),w=C((()=>e.disabled||(null==o?void 0:o.disabled))),E=C((()=>{const t=34*B.value.length;return t>e.height?e.height:t})),K=C((()=>void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue)),I=C((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:K.value;return e.clearable&&!w.value&&i.comboBoxHovering&&t})),O=C((()=>e.remote&&e.filterable?"":le)),V=C((()=>O.value&&n.is("reverse",x.value))),D=C((()=>(null==s?void 0:s.validateState)||"")),M=C((()=>ne[D.value])),T=C((()=>e.remote?300:0)),L=C((()=>{const t=B.value;return e.loading?e.loadingText||l("el.select.loading"):(!e.remote||""!==i.inputValue||0!==t.length)&&(e.filterable&&i.inputValue&&t.length>0?e.noMatchText||l("el.select.noMatch"):0===t.length?e.noDataText||l("el.select.noData"):null)})),B=C((()=>{const t=e=>{const t=i.inputValue;return!t||e.label.includes(t)};return e.loading?[]:(e=>{const t=[];return e.forEach((e=>{Y(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t})(e.options.concat(i.createdOptions).map((l=>{if(Y(l.options)){const e=l.options.filter(t);if(e.length>0)return r(d({},l),{options:e})}else if(e.remote||t(l))return l;return null})).filter((e=>null!==e)))})),z=C((()=>B.value.every((e=>e.disabled)))),A=ae(),R=C((()=>"small"===A.value?"small":"default")),$=C((()=>{const e=m.value,t=R.value||"default",l=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,n=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return i.selectWidth-n-l-Qt[t]})),_=()=>{var e,t,l;u.value=(null==(l=null==(t=null==(e=g.value)?void 0:e.getBoundingClientRect)?void 0:t.call(e))?void 0:l.width)||200},H=C((()=>({width:`${0===i.calculatedWidth?11:Math.ceil(i.calculatedWidth)+11}px`}))),F=C((()=>Y(e.modelValue)?0===e.modelValue.length&&!i.displayInputValue:!e.filterable||0===i.displayInputValue.length)),j=C((()=>{const t=e.placeholder||l("el.select.placeholder");return e.multiple?t:i.selectedLabel||t})),W=C((()=>{var e,t;return null==(t=null==(e=v.value)?void 0:e.popperRef)?void 0:t.contentRef})),q=C((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0)return B.value.findIndex((l=>l.value===e.modelValue[t-1]))}else if(e.modelValue)return B.value.findIndex((t=>t.value===e.modelValue));return-1})),P=C((()=>x.value&&!1!==L.value)),{createNewOption:U,removeNewOption:fe,selectNewOption:ve,clearAllNewOption:ge}=Ut(e,i),{handleCompositionStart:me,handleCompositionUpdate:ye,handleCompositionEnd:be}=function(e){const t=b(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:e=>{const l=e.target.value,n=l[l.length-1]||"";t.value=!J(n)},handleCompositionEnd:l=>{t.value&&(t.value=!1,X(e)&&e(l))}}}((e=>ze(e))),ke=()=>{var e,t,l;null==(t=(e=p.value).focus)||t.call(e),null==(l=v.value)||l.updatePopper()},Ce=()=>{if(!e.automaticDropdown)return w.value?void 0:(i.isComposing&&(i.softFocus=!0),N((()=>{var e,t;x.value=!x.value,null==(t=null==(e=p.value)?void 0:e.focus)||t.call(e)})))},xe=()=>(e.filterable&&i.inputValue!==i.selectedLabel&&(i.query=i.selectedLabel),Se(i.inputValue),N((()=>{U(i.inputValue)}))),Ne=oe(xe,T.value),Se=t=>{i.previousQuery!==t&&(i.previousQuery=t,e.filterable&&X(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&X(e.remoteMethod)&&e.remoteMethod(t))},we=l=>{t(he,l),(l=>{de(e.modelValue,l)||t(pe,l)})(l),i.previousValue=l.toString()},Ee=t=>G(t)?Q(t,e.valueKey):t,Ke=()=>{if(!e.collapseTags||e.filterable)return N((()=>{var e,t;if(!p.value)return;const l=m.value;g.value.height=l.offsetHeight,x.value&&!1!==L.value&&(null==(t=null==(e=v.value)?void 0:e.updatePopper)||t.call(e))}))},Ie=()=>{var t,l;if(Oe(),_(),null==(l=null==(t=v.value)?void 0:t.updatePopper)||l.call(t),e.multiple)return Ke()},Oe=()=>{const e=m.value;e&&(i.selectWidth=e.getBoundingClientRect().width)},Ve=(t,l,n=!0)=>{var a,o;if(e.multiple){let n=e.modelValue.slice();const s=((t=[],l)=>{if(!G(l))return t.indexOf(l);const n=e.valueKey;let a=-1;return t.some(((e,t)=>Q(e,n)===Q(l,n)&&(a=t,!0))),a})(n,Ee(t));s>-1?(n=[...n.slice(0,s),...n.slice(s+1)],i.cachedOptions.splice(s,1),fe(t)):(e.multipleLimit<=0||n.length<e.multipleLimit)&&(n=[...n,Ee(t)],i.cachedOptions.push(t),ve(t),Le(l)),we(n),t.created&&(i.query="",Se(""),i.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(o=(a=p.value).focus)||o.call(a),Me("")),e.filterable&&(i.calculatedWidth=k.value.getBoundingClientRect().width),Ke(),Be()}else c.value=l,i.selectedLabel=t.label,we(Ee(t)),x.value=!1,i.isComposing=!1,i.isSilentBlur=n,ve(t),t.created||ge(),Le(l)},De=()=>(i.softFocus=!1,N((()=>{var e,l;null==(l=null==(e=p.value)?void 0:e.blur)||l.call(e),k.value&&(i.calculatedWidth=k.value.getBoundingClientRect().width),i.isSilentBlur?i.isSilentBlur=!1:i.isComposing&&t("blur"),i.isComposing=!1}))),Me=e=>{i.displayInputValue=e,i.inputValue=e},Te=(e,t)=>{const l=B.value;if(!["forward","backward"].includes(e)||w.value||l.length<=0||z.value)return;if(!x.value)return Ce();void 0===t&&(t=i.hoveringIndex);let n=-1;"forward"===e?(n=t+1,n>=l.length&&(n=0)):"backward"===e&&(n=t-1,n<0&&(n=l.length-1));const a=l[n];if(a.disabled||"Group"===a.type)return Te(e,n);Le(n),Ae(n)},Le=e=>{i.hoveringIndex=e},Be=()=>{var e;const t=p.value;t&&(null==(e=t.focus)||e.call(t))},ze=t=>{const l=t.target.value;if(Me(l),i.displayInputValue.length>0&&!x.value&&(x.value=!0),i.calculatedWidth=k.value.getBoundingClientRect().width,e.multiple&&Ke(),!e.remote)return xe();Ne()},Ae=e=>{f.value.scrollToItem(e)},Re=()=>{if(i.hoveringIndex=-1,e.multiple)if(e.modelValue.length>0){let t=!1;i.cachedOptions.length=0,i.previousValue=e.modelValue.toString(),e.modelValue.forEach((e=>{const l=B.value.findIndex((t=>Ee(t)===e));~l&&(i.cachedOptions.push(B.value[l]),t||Le(l),t=!0)}))}else i.cachedOptions=[],i.previousValue="";else if(K.value){i.previousValue=e.modelValue;const t=B.value,l=t.findIndex((t=>Ee(t)===Ee(e.modelValue)));~l?(i.selectedLabel=t[l].label,Le(l)):i.selectedLabel=`${e.modelValue}`}else i.selectedLabel="",i.previousValue="";ge(),_()};return se(x,(e=>{var l,n;t("visible-change",e),e?null==(n=(l=v.value).update)||n.call(l):(i.displayInputValue="",i.previousQuery=null,U(""))})),se((()=>e.modelValue),((e,t)=>{var l;e&&e.toString()===i.previousValue||Re(),de(e,t)||null==(l=null==s?void 0:s.validate)||l.call(s,"change").catch((e=>re()))}),{deep:!0}),se((()=>e.options),(()=>{const e=p.value;(!e||e&&document.activeElement!==e)&&Re()}),{deep:!0}),se(B,(()=>N(f.value.resetScrollTop))),S((()=>{Re(),ie(g.value,Ie)})),ce((()=>{ue(g.value,Ie)})),{collapseTagSize:R,currentPlaceholder:j,expanded:x,emptyText:L,popupHeight:E,debounce:T,filteredOptions:B,iconComponent:O,iconReverse:V,inputWrapperStyle:H,popperSize:u,dropdownMenuVisible:P,hasModelValue:K,shouldShowPlaceholder:F,selectDisabled:w,selectSize:A,showClearBtn:I,states:i,tagMaxWidth:$,nsSelectV2:n,nsInput:a,calculatorRef:k,controlRef:h,inputRef:p,menuRef:f,popper:v,selectRef:g,selectionRef:m,popperRef:W,validateState:D,validateIcon:M,debouncedOnInputChange:Ne,deleteTag:(l,n)=>{const{valueKey:a}=e,o=e.modelValue.indexOf(Q(n,a));if(o>-1&&!w.value){const l=[...e.modelValue.slice(0,o),...e.modelValue.slice(o+1)];return i.cachedOptions.splice(o,1),we(l),t("remove-tag",Q(n,a)),i.softFocus=!0,fe(n),N(ke)}l.stopPropagation()},getLabel:e=>G(e)?e.label:e,getValueKey:Ee,handleBlur:De,handleClear:()=>{let l;return l=Y(e.modelValue)?[]:"",i.softFocus=!0,e.multiple?i.cachedOptions=[]:i.selectedLabel="",x.value=!1,we(l),t("clear"),ge(),N(ke)},handleClickOutside:()=>(x.value=!1,De()),handleDel:t=>{if(0===i.displayInputValue.length){t.preventDefault();const l=e.modelValue.slice();l.pop(),fe(i.cachedOptions.pop()),we(l)}},handleEsc:()=>{i.displayInputValue.length>0?Me(""):x.value=!1},handleFocus:e=>{const l=i.isComposing;i.isComposing=!0,i.softFocus?i.softFocus=!1:l||t("focus",e)},handleMenuEnter:()=>(i.inputValue=i.displayInputValue,N((()=>{~q.value&&(Le(q.value),Ae(i.hoveringIndex))}))),handleResize:Ie,toggleMenu:Ce,scrollTo:Ae,onInput:ze,onKeyboardNavigate:Te,onKeyboardSelect:()=>{if(!x.value)return Ce();~i.hoveringIndex&&B.value[i.hoveringIndex]&&Ve(B.value[i.hoveringIndex],i.hoveringIndex,!1)},onSelect:Ve,onHover:Le,onUpdateInputValue:Me,handleCompositionStart:me,handleCompositionEnd:be,handleCompositionUpdate:ye}},Yt=m({name:"ElSelectV2",components:{ElSelectMenu:M(Pt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select-dropdown.vue"]]),ElTag:fe,ElTooltip:ve,ElIcon:ge},directives:{ClickOutside:me,ModelText:ye},props:Ht,emits:[he,pe,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const l=Gt(e,t);return be("ElSelectV2Injection",{props:te(r(d({},ke(e)),{height:l.popupHeight})),onSelect:l.onSelect,onHover:l.onHover,onKeyboardNavigate:l.onKeyboardNavigate,onKeyboardSelect:l.onKeyboardSelect}),l}}),Jt={key:0},Xt=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Zt=["textContent"],el=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],tl=["textContent"];var ll=M(Yt,[["render",function(e,t,l,n,a,o){const s=Ce("el-tag"),d=Ce("el-tooltip"),r=Ce("el-icon"),i=Ce("el-select-menu"),c=xe("model-text"),u=xe("click-outside");return Ne((T(),L("div",{ref:"selectRef",class:z([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=j(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[Se(d,{ref:"popper",visible:e.dropdownMenuVisible,"onUpdate:visible":t[22]||(t[22]=t=>e.dropdownMenuVisible=t),teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:"bottom-start",pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:P((()=>{var l;return[R("div",{ref:"selectionRef",class:z([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(T(),L("div",Jt,[F(e.$slots,"prefix")])):we("v-if",!0),e.multiple?(T(),L("div",{key:1,class:z(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(T(),L("div",{key:0,class:z(e.nsSelectV2.e("selected-item"))},[Se(s,{closable:!e.selectDisabled&&!(null==(l=e.states.cachedOptions[0])?void 0:l.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:t[0]||(t[0]=t=>e.deleteTag(t,e.states.cachedOptions[0]))},{default:P((()=>{var t;return[R("span",{class:z(e.nsSelectV2.e("tags-text")),style:A({maxWidth:`${e.tagMaxWidth}px`})},B(null==(t=e.states.cachedOptions[0])?void 0:t.label),7)]})),_:1},8,["closable","size"]),e.modelValue.length>1?(T(),Ee(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:P((()=>[e.collapseTagsTooltip?(T(),Ee(d,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:P((()=>[R("span",{class:z(e.nsSelectV2.e("tags-text")),style:A({maxWidth:`${e.tagMaxWidth}px`})},"+ "+B(e.modelValue.length-1),7)])),content:P((()=>[R("div",{class:z(e.nsSelectV2.e("selection"))},[(T(!0),L(Ke,null,Ie(e.states.cachedOptions,((t,l)=>(T(),L("div",{key:l,class:z(e.nsSelectV2.e("selected-item"))},[(T(),Ee(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:P((()=>[R("span",{class:z(e.nsSelectV2.e("tags-text")),style:A({maxWidth:`${e.tagMaxWidth}px`})},B(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"]))],2)))),128))],2)])),_:1},8,["disabled","effect"])):(T(),L("span",{key:1,class:z(e.nsSelectV2.e("tags-text")),style:A({maxWidth:`${e.tagMaxWidth}px`})},"+ "+B(e.modelValue.length-1),7))])),_:1},8,["size"])):we("v-if",!0)],2)):(T(!0),L(Ke,{key:1},Ie(e.states.cachedOptions,((t,l)=>(T(),L("div",{key:l,class:z(e.nsSelectV2.e("selected-item"))},[(T(),Ee(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:P((()=>[R("span",{class:z(e.nsSelectV2.e("tags-text")),style:A({maxWidth:`${e.tagMaxWidth}px`})},B(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"]))],2)))),128)),R("div",{class:z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:A(e.inputWrapperStyle)},[Ne(R("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:z([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[1]||(t[1]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[2]||(t[2]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=U(j((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=U(j((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=U(j(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=U(j(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=U(j(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,Xt),[[c,e.states.displayInputValue]]),e.filterable?(T(),L("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z(e.nsSelectV2.e("input-calculator")),textContent:B(e.states.displayInputValue)},null,10,Zt)):we("v-if",!0)],6)],2)):(T(),L(Ke,{key:2},[R("div",{class:z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Ne(R("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:z(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[16]||(t[16]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[17]||(t[17]=U(j((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[18]||(t[18]=U(j((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[19]||(t[19]=U(j(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[20]||(t[20]=U(j(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[21]||(t[21]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,el),[[c,e.states.displayInputValue]])],2),e.filterable?(T(),L("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:B(e.states.displayInputValue)},null,10,tl)):we("v-if",!0)],64)),e.shouldShowPlaceholder?(T(),L("span",{key:3,class:z([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.states.isComposing||(e.placeholder&&e.multiple?0===e.modelValue.length:!e.hasModelValue))])},B(e.currentPlaceholder),3)):we("v-if",!0),R("span",{class:z(e.nsSelectV2.e("suffix"))},[e.iconComponent?Ne((T(),Ee(r,{key:0,class:z([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:P((()=>[(T(),Ee(K(e.iconComponent)))])),_:1},8,["class"])),[[Oe,!e.showClearBtn]]):we("v-if",!0),e.showClearBtn&&e.clearIcon?(T(),Ee(r,{key:1,class:z([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:j(e.handleClear,["prevent","stop"])},{default:P((()=>[(T(),Ee(K(e.clearIcon)))])),_:1},8,["class","onClick"])):we("v-if",!0),e.validateState&&e.validateIcon?(T(),Ee(r,{key:2,class:z([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:P((()=>[(T(),Ee(K(e.validateIcon)))])),_:1},8,["class"])):we("v-if",!0)],2)],2)]})),content:P((()=>[Se(i,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:P((t=>[F(e.$slots,"default",Ve(De(t)))])),empty:P((()=>[F(e.$slots,"empty",{},(()=>[R("p",{class:z(e.nsSelectV2.e("empty"))},B(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","transition","persistent","onBeforeShow"])],34)),[[u,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);ll.install=e=>{e.component(ll.name,ll)};const nl=ll,al="$treeNodeId",ol=function(e,t){t&&!t[al]&&Object.defineProperty(t,al,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},sl=function(e,t){return e?t[e]:t[al]},dl=e=>{let t=!0,l=!0,n=!0;for(let a=0,o=e.length;a<o;a++){const o=e[a];(!0!==o.checked||o.indeterminate)&&(t=!1,o.disabled||(n=!1)),(!1!==o.checked||o.indeterminate)&&(l=!1)}return{all:t,none:l,allWithoutDisable:n,half:!t&&!l}},rl=function(e){if(0===e.childNodes.length)return;const{all:t,none:l,half:n}=dl(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):l&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;a&&0!==a.level&&(e.store.checkStrictly||rl(a))},il=function(e,t){const l=e.store.props,n=e.data||{},a=l[t];if("function"==typeof a)return a(n,e);if("string"==typeof a)return n[a];if(void 0===a){const e=n[t];return void 0===e?"":e}};let cl=0;class ul{constructor(e){this.id=cl++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)D(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&void 0!==t.isLeaf){const e=il(this,"isLeaf");"boolean"==typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||ol(this,this.data),!this.data)return;const l=e.defaultExpandedKeys,n=e.key;n&&l&&l.includes(this.key)&&this.expand(null,e.autoExpandParent),n&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||ol(this,e),this.data=e,this.childNodes=[],t=0===this.level&&Array.isArray(this.data)?this.data:il(this,"children")||[];for(let l=0,n=t.length;l<n;l++)this.insertChild({data:t[l]})}get label(){return il(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return il(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((l=>l===e||t&&l.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,l){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof ul)){if(!l){const l=this.getChildren(!0);l.includes(e.data)||(void 0===t||t<0?l.push(e.data):l.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=te(new ul(e)))instanceof ul&&e.initialize()}e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let l;t&&(l=this.childNodes.indexOf(t)),this.insertChild(e,l)}insertAfter(e,t){let l;t&&(l=this.childNodes.indexOf(t),-1!==l&&(l+=1)),this.insertChild(e,l)}removeChild(e){const t=this.getChildren()||[],l=t.indexOf(e.data);l>-1&&t.splice(l,1);const n=this.childNodes.indexOf(e);n>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let l=0;l<this.childNodes.length;l++)if(this.childNodes[l].data===e){t=this.childNodes[l];break}t&&this.removeChild(t)}expand(e,t){const l=()=>{if(t){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||rl(this),l())})):l()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,l,n){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:l,allWithoutDisable:a}=dl(this.childNodes);this.isLeaf||l||!a||(this.checked=!1,e=!1);const o=()=>{if(t){const l=this.childNodes;for(let s=0,d=l.length;s<d;s++){const a=l[s];n=n||!1!==e;const o=a.disabled?a.checked:n;a.setChecked(o,t,!0,n)}const{half:a,all:o}=dl(l);o||(this.checked=o,this.indeterminate=a)}};if(this.shouldLoadData())return void this.loadData((()=>{o(),rl(this)}),{checked:!1!==e});o()}const a=this.parent;a&&0!==a.level&&(l||rl(a))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const l=this.store.props;let n="children";return l&&(n=l.children||"children"),void 0===t[n]&&(t[n]=null),e&&!t[n]&&(t[n]=[]),t[n]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),l={},n=[];e.forEach(((e,a)=>{const o=e[al];!!o&&t.findIndex((e=>e[al]===o))>=0?l[o]={index:a,data:e}:n.push({index:a,data:e})})),this.store.lazy||t.forEach((e=>{l[e[al]]||this.removeChildByData(e)})),n.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const l=l=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(l,t),this.updateLeafState(),e&&e.call(this,l)};this.store.load(this,l)}}}class hl{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)D(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new ul({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,l=this.lazy,n=function(a){const o=a.root?a.root.childNodes:a.childNodes;if(o.forEach((l=>{l.visible=t.call(l,e,l.data,l),n(l)})),!a.visible&&o.length){let e=!0;e=!o.some((e=>e.visible)),a.root?a.root.visible=!1===e:a.visible=!1===e}e&&(!a.visible||a.isLeaf||l||a.expand())};n(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof ul)return e;const t="object"!=typeof e?e:sl(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const l=this.getNode(t);l.parent.insertBefore({data:e},l)}insertAfter(e,t){const l=this.getNode(t);l.parent.insertAfter({data:e},l)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const l=t?this.getNode(t):this.root;l&&l.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const l=t[e];l&&l.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){void 0!==e.key&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const l=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach((a=>{(a.checked||t&&a.indeterminate)&&(!e||e&&a.isLeaf)&&l.push(a.data),n(a)}))};return n(this),l}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(l){(l.root?l.root.childNodes:l.childNodes).forEach((l=>{l.indeterminate&&e.push(l.data),t(l)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const l in t)D(t,l)&&e.push(t[l]);return e}updateChildren(e,t){const l=this.nodesMap[e];if(!l)return;const n=l.childNodes;for(let a=n.length-1;a>=0;a--){const e=n[a];this.remove(e.data)}for(let a=0,o=t.length;a<o;a++){const e=t[a];this.append(e,l.data)}}_setCheckedKeys(e,t=!1,l){const n=this._getAllNodes().sort(((e,t)=>t.level-e.level)),a=Object.create(null),o=Object.keys(l);n.forEach((e=>e.setChecked(!1,!1)));for(let s=0,d=n.length;s<d;s++){const l=n[s],d=l.data[e].toString();if(!o.includes(d)){l.checked&&!a[d]&&l.setChecked(!1,!1);continue}let r=l.parent;for(;r&&r.level>0;)a[r.data[e]]=!0,r=r.parent;if(l.isLeaf||this.checkStrictly)l.setChecked(!0,!1);else if(l.setChecked(!0,!0),t){l.setChecked(!1,!1);const e=function(t){t.childNodes.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(l)}}}setCheckedNodes(e,t=!1){const l=this.key,n={};e.forEach((e=>{n[(e||{})[l]]=!0})),this._setCheckedKeys(l,t,n)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const l=this.key,n={};e.forEach((e=>{n[e]=!0})),this._setCheckedKeys(l,t,n)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,l){const n=this.getNode(e);n&&n.setChecked(!!t,l)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const l=e[this.key],n=this.nodesMap[l];this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const l=this.getNode(e);l&&(this.setCurrentNode(l),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var pl=M(m({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=y("tree"),l=W("NodeInstance"),n=W("RootTree");return()=>{const a=e.node,{data:o,store:s}=a;return e.renderContent?e.renderContent(I,{_self:l,node:a,data:o,store:s}):n.ctx.slots.default?n.ctx.slots.default({node:a,data:o}):I("span",{class:t.be("node","label")},[a.label])}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function fl(e){const t=W("TreeNodeMap",null),l={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(l),be("TreeNodeMap",l),{broadcastExpanded:t=>{if(e.accordion)for(const e of l.children)e.treeNodeExpand(t)}}}const vl=Symbol("dragEvents");const gl=m({name:"ElTreeNode",components:{ElCollapseTransition:Le,ElCheckbox:Be,NodeContent:pl,ElIcon:ge,Loading:ze},props:{node:{type:ul,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const l=y("tree"),{broadcastExpanded:n}=fl(e),a=W("RootTree"),o=b(!1),s=b(!1),d=b(null),r=b(null),i=b(null),c=W(vl),u=V();be("NodeInstance",u),e.node.expanded&&(o.value=!0,s.value=!0);const h=a.props.children||"children";se((()=>{const t=e.node.data[h];return t&&[...t]}),(()=>{e.node.updateChildren()})),se((()=>e.node.indeterminate),(t=>{p(e.node.checked,t)})),se((()=>e.node.checked),(t=>{p(t,e.node.indeterminate)})),se((()=>e.node.expanded),(e=>{N((()=>o.value=e)),e&&(s.value=!0)}));const p=(t,l)=>{d.value===t&&r.value===l||a.ctx.emit("check-change",e.node.data,t,l),d.value=t,r.value=l},f=()=>{e.node.isLeaf||(o.value?(a.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},v=(t,l)=>{e.node.setChecked(l.target.checked,!a.props.checkStrictly),N((()=>{const t=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))};return{ns:l,node$:i,tree:a,expanded:o,childNodeRendered:s,oldChecked:d,oldIndeterminate:r,getNodeKey:e=>sl(a.props.nodeKey,e.data),getNodeClass:t=>{const l=e.props.class;if(!l)return{};let n;if(X(l)){const{data:e}=t;n=l(e,t)}else n=l;return O(n)?{[n]:!0}:n},handleSelectChange:p,handleClick:t=>{const l=a.store.value;l.setCurrentNode(e.node),a.ctx.emit("current-change",l.currentNode?l.currentNode.data:null,l.currentNode),a.currentNode.value=e.node,a.props.expandOnClickNode&&f(),a.props.checkOnClickNode&&!e.node.disabled&&v(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,u,t)},handleContextMenu:t=>{a.instance.vnode.props.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),a.ctx.emit("node-contextmenu",t,e.node.data,e.node,u)},handleExpandIconClick:f,handleCheckChange:v,handleChildNodeExpand:(e,t,l)=>{n(t),a.ctx.emit("node-expand",e,t,l)},handleDragStart:t=>{a.props.draggable&&c.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),a.props.draggable&&c.treeNodeDragOver({event:t,treeNode:{$el:i.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{a.props.draggable&&c.treeNodeDragEnd(e)},CaretRight:Ae}}}),ml=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],yl=["aria-expanded"];var bl=M(m({name:"ElTree",components:{ElTreeNode:M(gl,[["render",function(e,t,l,n,a,o){const s=Ce("el-icon"),d=Ce("el-checkbox"),r=Ce("loading"),i=Ce("node-content"),c=Ce("el-tree-node"),u=Ce("el-collapse-transition");return Ne((T(),L("div",{ref:"node$",class:z([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=j(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[3]||(t[3]=j(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[4]||(t[4]=j(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[5]||(t[5]=j(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[6]||(t[6]=j(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[R("div",{class:z(e.ns.be("node","content")),style:A({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(T(),Ee(s,{key:0,class:z([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:j(e.handleExpandIconClick,["stop"])},{default:P((()=>[(T(),Ee(K(e.tree.props.icon||e.CaretRight)))])),_:1},8,["class","onClick"])):we("v-if",!0),e.showCheckbox?(T(),Ee(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=j((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):we("v-if",!0),e.node.loading?(T(),Ee(s,{key:2,class:z([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:P((()=>[Se(r)])),_:1},8,["class"])):we("v-if",!0),Se(i,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Se(u,null,{default:P((()=>[!e.renderAfterExpand||e.childNodeRendered?Ne((T(),L("div",{key:0,class:z(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(T(!0),L(Ke,null,Ie(e.node.childNodes,(t=>(T(),Ee(c,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,yl)),[[Oe,e.expanded]]):we("v-if",!0)])),_:1})],42,ml)),[[Oe,e.node.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]])},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:l}=Z(),n=y("tree"),a=b(new hl({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const o=b(a.value.root),s=b(null),d=b(null),r=b(null),{broadcastExpanded:i}=fl(e),{dragState:c}=function({props:e,ctx:t,el$:l,dropIndicator$:n,store:a}){const o=y("tree"),s=b({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return be(vl,{treeNodeDragStart:({event:l,treeNode:n})=>{if("function"==typeof e.allowDrag&&!e.allowDrag(n.node))return l.preventDefault(),!1;l.dataTransfer.effectAllowed="move";try{l.dataTransfer.setData("text/plain","")}catch(a){}s.value.draggingNode=n,t.emit("node-drag-start",n.node,l)},treeNodeDragOver:({event:a,treeNode:d})=>{const r=d,i=s.value.dropNode;i&&i!==r&&Me(i.$el,o.is("drop-inner"));const c=s.value.draggingNode;if(!c||!r)return;let u=!0,h=!0,p=!0,f=!0;"function"==typeof e.allowDrop&&(u=e.allowDrop(c.node,r.node,"prev"),f=h=e.allowDrop(c.node,r.node,"inner"),p=e.allowDrop(c.node,r.node,"next")),a.dataTransfer.dropEffect=h||u||p?"move":"none",(u||h||p)&&i!==r&&(i&&t.emit("node-drag-leave",c.node,i.node,a),t.emit("node-drag-enter",c.node,r.node,a)),(u||h||p)&&(s.value.dropNode=r),r.node.nextSibling===c.node&&(p=!1),r.node.previousSibling===c.node&&(u=!1),r.node.contains(c.node,!1)&&(h=!1),(c.node===r.node||c.node.contains(r.node))&&(u=!1,h=!1,p=!1);const v=r.$el.getBoundingClientRect(),g=l.value.getBoundingClientRect();let m;const y=u?h?.25:p?.45:1:-1,b=p?h?.75:u?.55:0:1;let k=-9999;const C=a.clientY-v.top;m=C<v.height*y?"before":C>v.height*b?"after":h?"inner":"none";const x=r.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),N=n.value;"before"===m?k=x.top-g.top:"after"===m&&(k=x.bottom-g.top),N.style.top=`${k}px`,N.style.left=x.right-g.left+"px","inner"===m?Te(r.$el,o.is("drop-inner")):Me(r.$el,o.is("drop-inner")),s.value.showDropIndicator="before"===m||"after"===m,s.value.allowDrop=s.value.showDropIndicator||f,s.value.dropType=m,t.emit("node-drag-over",c.node,r.node,a)},treeNodeDragEnd:e=>{const{draggingNode:l,dropType:n,dropNode:d}=s.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",l&&d){const s={data:l.node.data};"none"!==n&&l.node.remove(),"before"===n?d.node.parent.insertBefore(s,d.node):"after"===n?d.node.parent.insertAfter(s,d.node):"inner"===n&&d.node.insertChild(s),"none"!==n&&a.value.registerNode(s),Me(d.$el,o.is("drop-inner")),t.emit("node-drag-end",l.node,d.node,n,e),"none"!==n&&t.emit("node-drop",l.node,d.node,n,e)}l&&!d&&t.emit("node-drag-end",l.node,null,n,e),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}({props:e,ctx:t,el$:d,dropIndicator$:r,store:a});!function({el$:e},t){const l=y("tree"),n=Re([]),a=Re([]);S((()=>{s(),$e(e.value,"keydown",o)})),_e((()=>{He(e.value,"keydown",o)})),E((()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),se(a,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));const o=a=>{const o=a.target;if(!o.className.includes(l.b("node")))return;const s=a.code;n.value=Array.from(e.value.querySelectorAll(`.${l.is("focusable")}[role=treeitem]`));const d=n.value.indexOf(o);let r;if([Fe.up,Fe.down].includes(s)){if(a.preventDefault(),s===Fe.up){r=-1===d?0:0!==d?d-1:n.value.length-1;const e=r;for(;!t.value.getNode(n.value[r].dataset.key).canFocus;){if(r--,r===e){r=-1;break}r<0&&(r=n.value.length-1)}}else{r=-1===d?0:d<n.value.length-1?d+1:0;const e=r;for(;!t.value.getNode(n.value[r].dataset.key).canFocus;){if(r++,r===e){r=-1;break}r>=n.value.length&&(r=0)}}-1!==r&&n.value[r].focus()}[Fe.left,Fe.right].includes(s)&&(a.preventDefault(),o.click());const i=o.querySelector('[type="checkbox"]');[Fe.enter,Fe.space].includes(s)&&i&&(a.preventDefault(),i.click())},s=()=>{var t;n.value=Array.from(e.value.querySelectorAll(`.${l.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const o=e.value.querySelectorAll(`.${l.is("checked")}[role=treeitem]`);o.length?o[0].setAttribute("tabindex","0"):null==(t=n.value[0])||t.setAttribute("tabindex","0")}}({el$:d},a);const u=C((()=>{const{childNodes:e}=o.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));se((()=>e.defaultCheckedKeys),(e=>{a.value.setDefaultCheckedKey(e)})),se((()=>e.defaultExpandedKeys),(e=>{a.value.setDefaultExpandedKeys(e)})),se((()=>e.data),(e=>{a.value.setData(e)}),{deep:!0}),se((()=>e.checkStrictly),(e=>{a.value.checkStrictly=e}));const h=()=>{const e=a.value.getCurrentNode();return e?e.data:null};return be("RootTree",{ctx:t,props:e,store:a,root:o,currentNode:s,instance:V()}),{ns:n,store:a,root:o,currentNode:s,dragState:c,el$:d,dropIndicator$:r,isEmpty:u,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(t)},getNodeKey:t=>sl(e.nodeKey,t.data),getNodePath:t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const l=a.value.getNode(t);if(!l)return[];const n=[l.data];let s=l.parent;for(;s&&s!==o.value;)n.push(s.data),s=s.parent;return n.reverse()},getCheckedNodes:(e,t)=>a.value.getCheckedNodes(e,t),getCheckedKeys:e=>a.value.getCheckedKeys(e),getCurrentNode:h,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=h();return t?t[e.nodeKey]:null},setCheckedNodes:(t,l)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(t,l)},setCheckedKeys:(t,l)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(t,l)},setChecked:(e,t,l)=>{a.value.setChecked(e,t,l)},getHalfCheckedNodes:()=>a.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>a.value.getHalfCheckedKeys(),setCurrentNode:(t,l=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");a.value.setUserCurrentNode(t,l)},setCurrentKey:(t,l=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");a.value.setCurrentNodeKey(t,l)},t:l,getNode:e=>a.value.getNode(e),remove:e=>{a.value.remove(e)},append:(e,t)=>{a.value.append(e,t)},insertBefore:(e,t)=>{a.value.insertBefore(e,t)},insertAfter:(e,t)=>{a.value.insertAfter(e,t)},handleNodeExpand:(e,l,n)=>{i(l),t.emit("node-expand",e,l,n)},updateKeyChildren:(t,l)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(t,l)}}}}),[["render",function(e,t,l,n,a,o){var s;const d=Ce("el-tree-node");return T(),L("div",{ref:"el$",class:z([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(T(!0),L(Ke,null,Ie(e.root.childNodes,(t=>(T(),Ee(d,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?(T(),L("div",{key:0,class:z(e.ns.e("empty-block"))},[R("span",{class:z(e.ns.e("empty-text"))},B(null!=(s=e.emptyText)?s:e.t("el.tree.emptyText")),3)],2)):we("v-if",!0),Ne(R("div",{ref:"dropIndicator$",class:z(e.ns.e("drop-indicator"))},null,2),[[Oe,e.dragState.showDropIndicator]])],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);bl.install=e=>{e.component(bl.name,bl)};const kl=bl,Cl=m({extends:We,setup(e,t){const l=We.setup(e,t);return delete l.selectOptionClick,l},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function xl(e){return e||0===e}function Nl(e){return Array.isArray(e)?e:xl(e)?[e]:[]}var Sl=M(m({name:"ElTreeSelect",inheritAttrs:!1,props:d(d({},je.props),kl.props),setup(e,t){const{slots:l,expose:n}=t,a=b(),o=b(),s=C((()=>e.nodeKey||e.valueKey||"value")),i=((e,{attrs:t},{tree:l,key:n})=>{const a=y("tree-select"),o=r(d(d({},Dt(ke(e),Object.keys(je.props))),t),{valueKey:n,popperClass:C((()=>{const t=[a.e("popper")];return e.popperClass&&t.push(e.popperClass),t.join(" ")})),filterMethod:(t="")=>{e.filterMethod&&e.filterMethod(t),N((()=>{var e;null==(e=l.value)||e.filter(t)}))},onVisibleChange:l=>{var n;null==(n=t.onVisibleChange)||n.call(t,l),e.filterable&&l&&o.filterMethod()}});return o})(e,t,{select:a,tree:o,key:s}),c=((e,{attrs:t,slots:l,emit:n},{select:a,tree:o,key:s})=>{se((()=>e.modelValue),(()=>{e.showCheckbox&&N((()=>{const t=o.value;t&&!de(t.getCheckedKeys(),Nl(e.modelValue))&&t.setCheckedKeys(Nl(e.modelValue))}))}),{immediate:!0,deep:!0});const i=C((()=>d({value:s.value},e.props))),c=(e,t)=>{var l;const n=i.value[e];return X(n)?n(t,null==(l=o.value)?void 0:l.getNode(c("value",t))):t[n]};return r(d(d({},Dt(ke(e),Object.keys(kl.props))),t),{nodeKey:s,expandOnClickNode:C((()=>!e.checkStrictly)),defaultExpandedKeys:C((()=>{const t=Nl(e.modelValue),l=o.value?t.map((e=>{var t,l,n;return null==(n=null==(l=null==(t=o.value)?void 0:t.getNode(e))?void 0:l.parent)?void 0:n.key})).filter((e=>xl(e))):t;return e.defaultExpandedKeys?e.defaultExpandedKeys.concat(l):l})),renderContent:(t,{node:n,data:a,store:o})=>t(Cl,{value:c("value",a),label:c("label",a),disabled:c("disabled",a)},e.renderContent?()=>e.renderContent(t,{node:n,data:a,store:o}):l.default?()=>l.default({node:n,data:a,store:o}):void 0),filterNodeMethod:(t,l,n)=>{var a;return e.filterNodeMethod?e.filterNodeMethod(t,l,n):!t||(null==(a=c("label",l))?void 0:a.includes(t))},onNodeClick:(l,n,o)=>{var s,d,r;if(null==(s=t.onNodeClick)||s.call(t,l,n,o),e.checkStrictly||n.isLeaf){if(!c("disabled",l)){const e=null==(d=a.value)?void 0:d.options.get(c("value",l));null==(r=a.value)||r.handleOptionSelect(e,!0)}}else o.proxy.handleExpandIconClick()},onCheck:(l,a)=>{var s,d;null==(s=t.onCheck)||s.call(t,l,a);const r=e.checkStrictly?a.checkedKeys:null==(d=o.value)?void 0:d.getCheckedKeys(!0),i=c("value",l);n(he,e.multiple?r:r.includes(i)?i:void 0)}})})(e,t,{select:a,tree:o,key:s}),u=te({});return n(u),S((()=>{Object.assign(u,d(d({},Dt(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"])),Dt(a.value,["focus","blur"])))})),()=>I(je,te(r(d({},i),{ref:e=>a.value=e})),r(d({},l),{default:()=>I(kl,te(r(d({},c),{ref:e=>o.value=e})))}))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);Sl.install=e=>{e.component(Sl.name,Sl)};const wl=Sl,El=Symbol(),Kl={key:-1,level:-1,data:{}};var Il=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(Il||{}),Ol=(e=>(e.ADD="add",e.DELETE="delete",e))(Ol||{});const Vl=qe({data:{type:Pe(Array),default:()=>Ue([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Pe(Object),default:()=>Ue({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Pe(Array),default:()=>Ue([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Pe(Array),default:()=>Ue([])},indent:{type:Number,default:16},icon:{type:Qe},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Pe([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Pe(Function)},perfMode:{type:Boolean,default:!0}}),Dl=qe({node:{type:Pe(Object),default:()=>Ue(Kl)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),Ml=qe({node:{type:Pe(Object),required:!0}}),Tl={"node-click":(e,t,l)=>e&&t&&l,"node-expand":(e,t)=>e&&t,"node-collapse":(e,t)=>e&&t,"current-change":(e,t)=>e&&t,check:(e,t)=>e&&t,"check-change":(e,t)=>e&&"boolean"==typeof t,"node-contextmenu":(e,t,l)=>e&&t&&l};function Ll(e,t){const l=b(new Set(e.defaultExpandedKeys)),n=b(),a=Re();se((()=>e.currentNodeKey),(e=>{n.value=e}),{immediate:!0}),se((()=>e.data),(e=>{T(e)}),{immediate:!0});const{isIndeterminate:o,isChecked:s,toggleCheckbox:d,getCheckedKeys:r,getCheckedNodes:i,getHalfCheckedKeys:c,getHalfCheckedNodes:u,setChecked:h,setCheckedKeys:p}=function(e,t){const l=b(new Set),n=b(new Set),{emit:a}=V();se((()=>t.value),(()=>N((()=>{u(e.defaultCheckedKeys)}))),{immediate:!0});const o=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:a,maxLevel:o}=t.value,s=l.value,d=new Set;for(let e=o-1;e>=1;--e){const t=a.get(e);t&&t.forEach((e=>{const t=e.children;if(t){let l=!0,n=!1;for(const e of t){const t=e.key;if(s.has(t))n=!0;else{if(d.has(t)){l=!1,n=!0;break}l=!1}}l?s.add(e.key):n?(d.add(e.key),s.delete(e.key)):(s.delete(e.key),d.delete(e.key))}}))}n.value=d},s=e=>l.value.has(e.key),d=(t,n,a=!0)=>{const s=l.value,d=(t,l)=>{s[l?Ol.ADD:Ol.DELETE](t.key);const n=t.children;!e.checkStrictly&&n&&n.forEach((e=>{e.disabled||d(e,l)}))};d(t,n),o(),a&&r(t,n)},r=(e,t)=>{const{checkedNodes:l,checkedKeys:n}=i(),{halfCheckedNodes:o,halfCheckedKeys:s}=c();a("check",e.data,{checkedKeys:n,checkedNodes:l,halfCheckedKeys:s,halfCheckedNodes:o}),a("check-change",e.data,t)};function i(n=!1){const a=[],o=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;l.value.forEach((t=>{const l=e.get(t);l&&(!n||n&&l.isLeaf)&&(o.push(t),a.push(l.data))}))}return{checkedKeys:o,checkedNodes:a}}function c(){const l=[],a=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;n.value.forEach((t=>{const n=e.get(t);n&&(a.push(t),l.push(n.data))}))}return{halfCheckedNodes:l,halfCheckedKeys:a}}function u(l){if(null==t?void 0:t.value){const{treeNodeMap:n}=t.value;if(e.showCheckbox&&n&&l)for(const e of l){const t=n.get(e);t&&!s(t)&&d(t,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:d,isChecked:s,isIndeterminate:e=>n.value.has(e.key),getCheckedKeys:function(e=!1){return i(e).checkedKeys},getCheckedNodes:function(e=!1){return i(e).checkedNodes},getHalfCheckedKeys:function(){return c().halfCheckedKeys},getHalfCheckedNodes:function(){return c().halfCheckedNodes},setChecked:function(l,n){if((null==t?void 0:t.value)&&e.showCheckbox){const e=t.value.treeNodeMap.get(l);e&&d(e,n,!1)}},setCheckedKeys:function(e){l.value.clear(),n.value.clear(),u(e)}}}(e,a),{doFilter:f,hiddenNodeKeySet:v,isForceHiddenExpandIcon:g}=function(e,t){const l=b(new Set([])),n=b(new Set([])),a=C((()=>X(e.filterMethod)));return{hiddenExpandIconKeySet:n,hiddenNodeKeySet:l,doFilter:function(o){var s;if(!a.value)return;const d=new Set,r=n.value,i=l.value,c=[],u=(null==(s=t.value)?void 0:s.treeNodes)||[],h=e.filterMethod;return i.clear(),function e(t){t.forEach((t=>{c.push(t),(null==h?void 0:h(o,t.data))?c.forEach((e=>{d.add(e.key)})):t.isLeaf&&i.add(t.key);const l=t.children;if(l&&e(l),!t.isLeaf)if(d.has(t.key)){if(l){let e=!0;for(const t of l)if(!i.has(t.key)){e=!1;break}e?r.add(t.key):r.delete(t.key)}}else i.add(t.key);c.pop()}))}(u),d},isForceHiddenExpandIcon:function(e){return n.value.has(e.key)}}}(e,a),m=C((()=>{var t;return(null==(t=e.props)?void 0:t.value)||Il.KEY})),y=C((()=>{var t;return(null==(t=e.props)?void 0:t.children)||Il.CHILDREN})),k=C((()=>{var t;return(null==(t=e.props)?void 0:t.disabled)||Il.DISABLED})),x=C((()=>{var t;return(null==(t=e.props)?void 0:t.label)||Il.LABEL})),S=C((()=>{const e=l.value,t=v.value,n=[],o=a.value&&a.value.treeNodes||[];return function(){const l=[];for(let e=o.length-1;e>=0;--e)l.push(o[e]);for(;l.length;){const a=l.pop();if(a&&(t.has(a.key)||n.push(a),e.has(a.key))){const e=a.children;if(e){for(let t=e.length-1;t>=0;--t)l.push(e[t])}}}}(),n})),w=C((()=>S.value.length>0));function E(e){return e[y.value]}function K(e){return e?e[m.value]:""}function I(e){return e[k.value]}function O(e){return e[x.value]}function D(n){l.value.has(n.key)?function(e){l.value.delete(e.key),t("node-collapse",e.data,e)}(n):function(n){const o=l.value;if((null==a?void 0:a.value)&&e.accordion){const{treeNodeMap:e}=a.value;o.forEach((t=>{const l=e.get(t);l&&l.level==l.level&&o.delete(t)}))}o.add(n.key),t("node-expand",n.data,n)}(n)}function M(e){const t=n.value;return!!t&&t===e.key}function T(e){N((()=>a.value=function(e){const t=new Map,l=new Map;let n=1;const a=function e(a,o=1,s){var d;const r=[];for(const n of a){const a=K(n),i={level:o,key:a,data:n};i.label=O(n),i.parent=s;const c=E(n);i.disabled=I(n),i.isLeaf=!c||0===c.length,c&&c.length&&(i.children=e(c,o+1,i)),r.push(i),t.set(a,i),l.has(o)||l.set(o,[]),null==(d=l.get(o))||d.push(i)}return o>n&&(n=o),r}(e);return{treeNodeMap:t,levelTreeNodeMap:l,maxLevel:n,treeNodes:a}}(e)))}return{tree:a,flattenTree:S,isNotEmpty:w,getKey:K,getChildren:E,toggleExpand:D,toggleCheckbox:d,isExpanded:function(e){return l.value.has(e.key)},isChecked:s,isIndeterminate:o,isDisabled:function(e){return!!e.disabled},isCurrent:M,isForceHiddenExpandIcon:g,handleNodeClick:function(l,a){t("node-click",l.data,l,a),function(e){M(e)||(n.value=e.key,t("current-change",e.data,e))}(l),e.expandOnClickNode&&D(l),e.showCheckbox&&e.checkOnClickNode&&!l.disabled&&d(l,!s(l),!0)},handleNodeCheck:function(e,t){d(e,t)},getCurrentNode:function(){var e,t;if(n.value)return null==(t=null==(e=null==a?void 0:a.value)?void 0:e.treeNodeMap.get(n.value))?void 0:t.data},getCurrentKey:function(){return n.value},setCurrentKey:function(e){n.value=e},getCheckedKeys:r,getCheckedNodes:i,getHalfCheckedKeys:c,getHalfCheckedNodes:u,setChecked:h,setCheckedKeys:p,filter:function(e){const t=f(e);t&&(l.value=t)},setData:T}}var Bl=m({name:"ElTreeNodeContent",props:Ml,setup(e){const t=W(El),l=y("tree");return()=>{const n=e.node,{data:a}=n;return(null==t?void 0:t.ctx.slots.default)?t.ctx.slots.default({node:n,data:a}):I("span",{class:l.be("node","label")},[null==n?void 0:n.label])}}});const zl=m({name:"ElTreeNode",components:{ElIcon:ge,CaretRight:Ae,ElCheckbox:Be,ElNodeContent:Bl},props:Dl,emits:{click:(e,t)=>!(!e||!t),toggle:e=>!!e,check:(e,t)=>e&&"boolean"==typeof t},setup(e,{emit:t}){const l=W(El);return{ns:y("tree"),indent:C((()=>{var e;return null!=(e=null==l?void 0:l.props.indent)?e:16})),icon:C((()=>{var e;return null!=(e=null==l?void 0:l.props.icon)?e:"caret-right"})),handleClick:l=>{t("click",e.node,l)},handleExpandIconClick:()=>{t("toggle",e.node)},handleCheckChange:l=>{t("check",e.node,l)},handleContextMenu:t=>{var n,a,o,s;(null==(o=null==(a=null==(n=null==l?void 0:l.instance)?void 0:n.vnode)?void 0:a.props)?void 0:o.onNodeContextmenu)&&(t.stopPropagation(),t.preventDefault()),null==l||l.ctx.emit("node-contextmenu",t,null==(s=e.node)?void 0:s.data,e.node)}}}}),Al=["aria-expanded","aria-disabled","aria-checked","data-key"];const Rl=Ge(M(m({name:"ElTreeV2",components:{ElTreeNode:M(zl,[["render",function(e,t,l,n,a,o){var s,d,r;const i=Ce("el-icon"),c=Ce("el-checkbox"),u=Ce("el-node-content");return T(),L("div",{ref:"node$",class:z([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.current),e.ns.is("focusable",!e.disabled),e.ns.is("checked",!e.disabled&&e.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":null==(s=e.node)?void 0:s.key,onClick:t[1]||(t[1]=j(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t))},[R("div",{class:z(e.ns.be("node","content")),style:A({paddingLeft:(e.node.level-1)*e.indent+"px"})},[e.icon?(T(),Ee(i,{key:0,class:z([e.ns.is("leaf",!!(null==(d=e.node)?void 0:d.isLeaf)),e.ns.is("hidden",e.hiddenExpandIcon),{expanded:!(null==(r=e.node)?void 0:r.isLeaf)&&e.expanded},e.ns.be("node","expand-icon")]),onClick:j(e.handleExpandIconClick,["stop"])},{default:P((()=>[(T(),Ee(K(e.icon)))])),_:1},8,["class","onClick"])):we("v-if",!0),e.showCheckbox?(T(),Ee(c,{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:e.handleCheckChange,onClick:t[0]||(t[0]=j((()=>{}),["stop"]))},null,8,["model-value","indeterminate","disabled","onChange"])):we("v-if",!0),Se(u,{node:e.node},null,8,["node"])],6)],42,Al)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]),FixedSizeList:Lt},props:Vl,emits:Tl,setup(e,t){be(El,{ctx:t,props:e,instance:V()});const{t:l}=Z(),n=y("tree"),{flattenTree:a,isNotEmpty:o,toggleExpand:s,isExpanded:d,isIndeterminate:r,isChecked:i,isDisabled:c,isCurrent:u,isForceHiddenExpandIcon:h,toggleCheckbox:p,handleNodeClick:f,handleNodeCheck:v,getCurrentNode:g,getCurrentKey:m,setCurrentKey:b,getCheckedKeys:k,getCheckedNodes:C,getHalfCheckedKeys:x,getHalfCheckedNodes:N,setChecked:S,setCheckedKeys:w,filter:E,setData:K}=Ll(e,t.emit);return t.expose({getCurrentNode:g,getCurrentKey:m,setCurrentKey:b,getCheckedKeys:k,getCheckedNodes:C,getHalfCheckedKeys:x,getHalfCheckedNodes:N,setChecked:S,setCheckedKeys:w,filter:E,setData:K}),{t:l,ns:n,flattenTree:a,itemSize:26,isNotEmpty:o,toggleExpand:s,toggleCheckbox:p,isExpanded:d,isIndeterminate:r,isChecked:i,isDisabled:c,isCurrent:u,isForceHiddenExpandIcon:h,handleNodeClick:f,handleNodeCheck:v}}}),[["render",function(e,t,l,n,a,o){var s;const d=Ce("el-tree-node"),r=Ce("fixed-size-list");return T(),L("div",{class:z([e.ns.b(),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[e.isNotEmpty?(T(),Ee(r,{key:0,"class-name":e.ns.b("virtual-list"),data:e.flattenTree,total:e.flattenTree.length,height:e.height,"item-size":e.itemSize,"perf-mode":e.perfMode},{default:P((({data:t,index:l,style:n})=>[(T(),Ee(d,{key:t[l].key,style:A(n),node:t[l],expanded:e.isExpanded(t[l]),"show-checkbox":e.showCheckbox,checked:e.isChecked(t[l]),indeterminate:e.isIndeterminate(t[l]),disabled:e.isDisabled(t[l]),current:e.isCurrent(t[l]),"hidden-expand-icon":e.isForceHiddenExpandIcon(t[l]),onClick:e.handleNodeClick,onToggle:e.toggleExpand,onCheck:e.handleNodeCheck},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))])),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(T(),L("div",{key:1,class:z(e.ns.e("empty-block"))},[R("span",{class:z(e.ns.e("empty-text"))},B(null!=(s=e.emptyText)?s:e.t("el.tree.emptyText")),3)],2))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]));const $l={class:"app-container"},_l=R("div",null,"虚拟选择器",-1),Hl=R("div",null,"基础树形选择器",-1),Fl=R("div",null,"虚拟树形控件",-1),jl={setup(e){const t=b(""),l=b(""),n=te([]),a=[{value:"1",label:"Level one 1",children:[{value:"1-1",label:"Level two 1-1",children:[{value:"1-1-1",label:"Level three 1-1-1"}]}]},{value:"2",label:"Level one 2",children:[{value:"2-1",label:"Level two 2-1",children:[{value:"2-1-1",label:"Level three 2-1-1"}]},{value:"2-2",label:"Level two 2-2",children:[{value:"2-2-1",label:"Level three 2-2-1"}]}]},{value:"3",label:"Level one 3",children:[{value:"3-1",label:"Level two 3-1",children:[{value:"3-1-1",label:"Level three 3-1-1"}]},{value:"3-2",label:"Level two 3-2",children:[{value:"3-2-1",label:"Level three 3-2-1"}]}]}],o=["a","b","c","d","e","f","g","h","i","j"];Array.from({length:1e3}).forEach(((e,t)=>{n.push({value:`Option ${t+1}`,label:`${o[t%10]}${t}`})}));const s=(e,t,l,n=1,a="node")=>{let o=0;return Array.from({length:l}).fill(n).map((()=>{const l=n===e?0:Math.round(Math.random()*t),d=((e,t)=>`${e}-${t}`)(a,++o);return{id:d,label:d,children:l?s(e,t,l,n+1,d):void 0}}))},d={value:"id",label:"label",children:"children"},r=s(4,30,40);return(e,o)=>{const s=xt,i=Je,c=Ye,u=nl,h=wl,p=Rl;return T(),L("div",$l,[Se(c,{class:"mb-8"},{default:P((()=>[Se(i,{class:"mb-2",span:24},{default:P((()=>[Se(s,{title:"背景：在某些使用情况下，组件可能最终加载数万行数据。 将这么多的数据渲染至 DOM 中可能会给浏览器带来负担，从而造成性能问题。",type:"success",effect:"dark"})])),_:1}),Se(i,{span:24},{default:P((()=>[Se(s,{title:"Tips：虚拟化组件目前在测试当中，如果在使用中发现任何漏洞和问题，可以前往官网反馈。",type:"warning",effect:"dark"})])),_:1})])),_:1}),Se(c,null,{default:P((()=>[Se(i,{span:8},{default:P((()=>[_l,Se(u,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),options:x(n),placeholder:"Please select"},null,8,["modelValue","options"])])),_:1}),Se(i,{span:8},{default:P((()=>[Hl,Se(h,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),data:a},null,8,["modelValue"])])),_:1}),Se(i,{span:8},{default:P((()=>[Fl,Se(p,{data:x(r),props:d},null,8,["data"])])),_:1})])),_:1})])}}};export{jl as default};
