import{_ as e,b as a,cH as l,cI as s,cJ as t,Z as d,c as v,d as n,e as c,f as u,w as i,g as r,ad as o,aY as p,p as f,i as I,o as m,j as x,al as y,a3 as g}from"./index-11542374.js";const k={class:"flex flex-col gap-4 text-center p-6"},_=["onClick"],b=(e=>(f("data-v-02f861ff"),e=e(),I(),e))((()=>c("canvas",{id:"canvas"},null,-1)));var C=e({setup(e){const f=a(),{videoInputs:I}=l({requestPermissions:!0,onUpdated(){var e;I.value.find((e=>e.deviceId===f.value))||(f.value=null==(e=I.value[0])?void 0:e.deviceId)}}),C=a(),{stream:j,enabled:w}=s({videoDeviceId:f});t((()=>{C.value&&(C.value.srcObject=j.value)}));let S=null;return d(w,(e=>{e?S=setInterval((()=>{document.getElementById("canvas").getContext("2d").drawImage(C.value,0,0,270,135)}),20):clearInterval(S)})),(e,a)=>{const l=v;return m(),n("div",k,[c("div",null,[u(l,{onClick:a[0]||(a[0]=e=>w.value=!r(w)),type:r(w)?"primary":"success"},{default:i((()=>[x(y(r(w)?"Stop":"Start"),1)])),_:1},8,["type"])]),c("div",null,[(m(!0),n(o,null,p(r(I),(e=>(m(),n("div",{key:e.deviceId,class:g(["px-2 py-1 cursor-pointer",{"text-green-500":f.value===e.deviceId}]),onClick:a=>f.value=e.deviceId},y(e.label),11,_)))),128))]),c("div",null,[c("video",{ref_key:"video",ref:C,muted:"",autoplay:"",controls:""},null,512)]),b])}}},[["__scopeId","data-v-02f861ff"]]);export{C as default};
