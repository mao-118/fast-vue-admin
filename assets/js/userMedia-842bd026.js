import{_ as e,r as a,cH as l,cI as s,cJ as t,O as d,G as v,c,b as n,q as u,l as r,S as i,aQ as o,aZ as p,p as f,e as I,f as m,g as x,aV as y,R as g}from"./index-cbcdd09a.js";const b={class:"flex flex-col gap-4 text-center p-6"},k=["onClick"],_=(e=>(f("data-v-02f861ff"),e=e(),I(),e))((()=>n("canvas",{id:"canvas"},null,-1)));var C=e({setup(e){const f=a(),{videoInputs:I}=l({requestPermissions:!0,onUpdated(){var e;I.value.find((e=>e.deviceId===f.value))||(f.value=null==(e=I.value[0])?void 0:e.deviceId)}}),C=a(),{stream:S,enabled:j}=s({videoDeviceId:f});t((()=>{C.value&&(C.value.srcObject=S.value)}));let q=null;return d(j,(e=>{e?q=setInterval((()=>{document.getElementById("canvas").getContext("2d").drawImage(C.value,0,0,270,135)}),20):clearInterval(q)})),(e,a)=>{const l=v;return m(),c("div",b,[n("div",null,[u(l,{onClick:a[0]||(a[0]=e=>j.value=!i(j)),type:i(j)?"primary":"success"},{default:r((()=>[x(y(i(j)?"Stop":"Start"),1)])),_:1},8,["type"])]),n("div",null,[(m(!0),c(o,null,p(i(I),(e=>(m(),c("div",{key:e.deviceId,class:g(["px-2 py-1 cursor-pointer",{"text-green-500":f.value===e.deviceId}]),onClick:a=>f.value=e.deviceId},y(e.label),11,k)))),128))]),n("div",null,[n("video",{ref_key:"video",ref:C,muted:"",autoplay:"",controls:""},null,512)]),_])}}},[["__scopeId","data-v-02f861ff"]]);export{C as default};
