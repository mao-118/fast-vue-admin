import{_ as U,f as _,r as k,c as z,g as n,i as d,j as m,v as a,Q as w,m as t,t as b,k as s,l,K as H,L as K,F as M,q as Q,s as p,H as y}from"./index.aa3e27cf.js";const T={class:"app-container"},W=p(" \u8FDE\u63A5\u72B6\u6001\uFF1A "),A=p("\u53D1\u9001"),G=p("\u804A\u5929\u8BB0\u5F55"),I={class:"msg-box"},J={class:"msg-content"},O={class:"msg-text"},P={setup(X){const c=_([]),f=k(null),i=_({text:""}),V=_({text:[{required:!0,message:"\u8F93\u5165\u7684\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),B=()=>{f.value.validate(e=>{e?(L(i.text),y.success("\u53D1\u9001\u6210\u529F")):console.log(e)})};let o=null;const r=k(0),v=_([{color:"text-purple-500",text:"\u5EFA\u7ACB\u8FDE\u63A5\u4E2D..."},{color:"text-green-500",text:"\u8FDE\u63A5\u6210\u529F"},{color:"text-red-500",text:"\u8FDE\u63A5\u5931\u8D25"},{color:"text-purple-500",text:"\u8FDE\u63A5\u5173\u95ED"}]),C=e=>{r.value=1},L=e=>{o.send(e),c.push(e)},S=e=>{c.push(e.data)},N=e=>{r.value=2,console.log("error",e),y.error("\u8FDE\u63A5\u5F02\u5E38\uFF0C\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762")},j=e=>{r.value=3,console.log("close",e)};return(()=>{o=new WebSocket("wss://javascript.info/article/websocket/chat/ws"),o.onopen=C,o.onmessage=S,o.onerror=N,o.onclose=j})(),z(()=>{o.close()}),(e,x)=>{const q=n("el-input"),D=n("el-col"),g=n("el-form-item"),E=n("el-button"),F=n("el-form"),R=n("el-divider");return d(),m("div",T,[a("div",null,[W,a("span",{class:w(t(v)[r.value].color)},b(t(v)[r.value].text),3)]),s(F,{ref_key:"formRef",ref:f,model:t(i),rules:t(V),"label-width":"80px"},{default:l(()=>[s(g,{label:"\u8F93\u5165\u5185\u5BB9",prop:"text"},{default:l(()=>[s(D,{span:5},{default:l(()=>[s(q,{modelValue:t(i).text,"onUpdate:modelValue":x[0]||(x[0]=u=>t(i).text=u)},null,8,["modelValue"])]),_:1})]),_:1}),s(g,null,{default:l(()=>[s(E,{type:"primary",onClick:B},{default:l(()=>[A]),_:1})]),_:1})]),_:1},8,["model","rules"]),s(R,null,{default:l(()=>[G]),_:1}),H(a("div",I,[(d(!0),m(M,null,Q(t(c),(u,h)=>(d(),m("div",{class:w([{pt:h%2==0},"msg-item"]),key:h},[a("div",J,[a("div",O,b(u),1)])],2))),128))],512),[[K,t(c).length]])])}}};var $=U(P,[["__file","/home/runner/work/fast-vue-admin/fast-vue-admin/src/views/websocket/index.vue"]]);export{$ as default};
